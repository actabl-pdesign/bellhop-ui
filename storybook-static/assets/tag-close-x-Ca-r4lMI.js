import{h as se,m as ne,l as ce,p as N,w as ue,q as Z}from"./Collection-Dtki8IjD.js";import{$ as _,g as fe,h as ee,b as k,a as X,k as $e,E as be,w as ve,p as te,y as G,l as pe,r as R,v as ge,q as me,m as L,n as oe,s as xe,C as he}from"./useFocusRing-S0-S86YF.js";import{$ as O,a as Pe,d as ae,b as De,c as ye}from"./DragAndDrop-BZHXdZU6.js";import{i as Se,j as Ce,l as Ee,f as ke,g as we,m as Me,k as Fe}from"./Separator-DFffz-MC.js";import{$ as Ie}from"./Text-Cad38J0d.js";import{$ as _e}from"./inertValue-UYLnEGfL.js";import{r as s,c,j as J}from"./iframe-BCkU_Mh_.js";import{b as Le,$ as Be}from"./useListState-ClgXs1pk.js";import{$ as Ve}from"./context-FZ710-cz.js";import{$ as Te}from"./useLabel-ris045y1.js";import{b as ze}from"./usePress-BZVnCVnr.js";import{c as Ae}from"./FocusScope-BlVgOpmq.js";import{$ as He}from"./Button-oF9jgeNR.js";import{c as Q}from"./cx-X4VLeaWk.js";const K=new WeakMap;function Ne(t){return typeof t=="string"?t.replace(/\s*/g,""):""+t}function Oe(t,e){let o=K.get(t);if(!o)throw new Error("Unknown list");return`${o.id}-option-${Ne(e)}`}function Ue(t,e,o){let i=_(t,{labelable:!0}),r=t.selectionBehavior||"toggle",d=t.linkBehavior||(r==="replace"?"action":"override");r==="toggle"&&d==="action"&&(d="override");let{listProps:a}=Se({...t,ref:o,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:d}),{focusWithinProps:l}=fe({onFocusWithin:t.onFocus,onBlurWithin:t.onBlur,onFocusWithinChange:t.onFocusChange}),f=ee(t.id);K.set(e,{id:f,shouldUseVirtualFocus:t.shouldUseVirtualFocus,shouldSelectOnPressUp:t.shouldSelectOnPressUp,shouldFocusOnHover:t.shouldFocusOnHover,isVirtualized:t.isVirtualized,onAction:t.onAction,linkBehavior:d});let{labelProps:p,fieldProps:n}=Te({...t,id:f,labelElementType:"span"});return{labelProps:p,listBoxProps:k(i,l,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...k(n,a)})}}function We(t,e,o){var i,r;let{key:d}=t,a=K.get(e);var l;let f=(l=t.isDisabled)!==null&&l!==void 0?l:e.selectionManager.isDisabled(d);var p;let n=(p=t.isSelected)!==null&&p!==void 0?p:e.selectionManager.isSelected(d);var b;let u=(b=t.shouldSelectOnPressUp)!==null&&b!==void 0?b:a?.shouldSelectOnPressUp;var v;let x=(v=t.shouldFocusOnHover)!==null&&v!==void 0?v:a?.shouldFocusOnHover;var m;let g=(m=t.shouldUseVirtualFocus)!==null&&m!==void 0?m:a?.shouldUseVirtualFocus;var h;let D=(h=t.isVirtualized)!==null&&h!==void 0?h:a?.isVirtualized,E=X(),w=X(),y={role:"option","aria-disabled":f||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?n:void 0};$e()&&be()||(y["aria-label"]=t["aria-label"],y["aria-labelledby"]=E,y["aria-describedby"]=w);let $=e.collection.getItem(d);if(D){let P=Number($?.index);y["aria-posinset"]=Number.isNaN(P)?void 0:P+1,y["aria-setsize"]=Ce(e.collection)}let M=a?.onAction?()=>{var P;return a==null||(P=a.onAction)===null||P===void 0?void 0:P.call(a,d)}:void 0,V=Oe(e,d),{itemProps:F,isPressed:S,isFocused:C,hasAction:I,allowsSelection:T}=se({selectionManager:e.selectionManager,key:d,ref:o,shouldSelectOnPressUp:u,allowsDifferentPressOrigin:u&&x,isVirtualized:D,shouldUseVirtualFocus:g,isDisabled:f,onAction:M||!($==null||(i=$.props)===null||i===void 0)&&i.onAction?ve($==null||(r=$.props)===null||r===void 0?void 0:r.onAction,M):void 0,linkBehavior:a?.linkBehavior,id:V}),{hoverProps:z}=te({isDisabled:f||!x,onHoverStart(){G()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(d))}}),A=_($?.props);delete A.id;let H=ze($?.props);return{optionProps:{...y,...k(A,F,z,H),id:V},labelProps:{id:E},descriptionProps:{id:w},isFocused:C,isFocusVisible:C&&e.selectionManager.isFocused&&G(),isSelected:n,isDisabled:f,isPressed:S,allowsSelection:T,hasAction:I}}function Re(t){let{heading:e,"aria-label":o}=t,i=ee();return{itemProps:{role:"presentation"},headingProps:e?{id:i,role:"presentation"}:{},groupProps:{role:"group","aria-label":o,"aria-labelledby":e?i:void 0}}}const le=s.createContext(null),B=s.createContext(null),ut=s.forwardRef(function(e,o){[e,o]=pe(e,o,le);let i=s.useContext(B);return i?c.createElement(ie,{state:i,props:e,listBoxRef:o}):c.createElement(ne,{content:c.createElement(ce,e)},r=>c.createElement(Ke,{props:e,listBoxRef:o,collection:r}))});function Ke({props:t,listBoxRef:e,collection:o}){t={...t,collection:o,children:null,items:null};let{layoutDelegate:i}=s.useContext(N),r=Be({...t,layoutDelegate:i});return c.createElement(ie,{state:r,props:t,listBoxRef:e})}function ie({state:t,props:e,listBoxRef:o}){var i;let{filter:r,collectionProps:d,collectionRef:a}=s.useContext(Ee)||{};e=s.useMemo(()=>d?{...e,...d}:e,[e,d]);let{dragAndDropHooks:l,layout:f="stack",orientation:p="vertical"}=e;o=R(s.useMemo(()=>ge(o,a!==void 0?a:null),[a,o]));let n=Le(t,r),{collection:b,selectionManager:u}=n,v=!!l?.useDraggableCollectionState,x=!!l?.useDroppableCollectionState,{direction:m}=Ve(),{disabledBehavior:g,disabledKeys:h}=u,D=ke({usage:"search",sensitivity:"base"}),{isVirtualized:E,layoutDelegate:w,dropTargetDelegate:y,CollectionRoot:$}=s.useContext(N),M=s.useMemo(()=>e.keyboardDelegate||new we({collection:b,collator:D,ref:o,disabledKeys:h,disabledBehavior:g,layout:f,orientation:p,direction:m,layoutDelegate:w}),[b,D,o,g,h,p,m,e.keyboardDelegate,f,w]),{listBoxProps:V}=Ue({...e,shouldSelectOnPressUp:v||e.shouldSelectOnPressUp,keyboardDelegate:M,isVirtualized:E},n,o);s.useRef(v),s.useRef(x),s.useEffect(()=>{},[v,x]);let F,S,C,I=!1,T=null,z=s.useRef(null);if(v&&l){F=l.useDraggableCollectionState({collection:b,selectionManager:u,preview:l.renderDragPreview?z:void 0}),l.useDraggableCollection({},F,o);let W=l.DragPreview;T=l.renderDragPreview?c.createElement(W,{ref:z},l.renderDragPreview):null}if(x&&l){S=l.useDroppableCollectionState({collection:b,selectionManager:u});let W=l.dropTargetDelegate||y||new l.ListDropTargetDelegate(b,o,{orientation:p,layout:f,direction:m});C=l.useDroppableCollection({keyboardDelegate:M,dropTargetDelegate:W},S,o),I=S.isDropTarget({type:"root"})}let{focusProps:A,isFocused:H,isFocusVisible:P}=me(),U=n.collection.size===0||n.collection.size===1&&((i=n.collection.getItem(n.collection.getFirstKey()))===null||i===void 0?void 0:i.type)==="loader",j={isDropTarget:I,isEmpty:U,isFocused:H,isFocusVisible:P,layout:e.layout||"stack",state:n},de=L({className:e.className,style:e.style,defaultClassName:"react-aria-ListBox",values:j}),q=null;return U&&e.renderEmptyState&&(q=c.createElement("div",{role:"option",style:{display:"contents"}},e.renderEmptyState(j))),c.createElement(Ae,null,c.createElement("div",{..._(e),...k(V,A,C?.collectionProps),...de,ref:o,slot:e.slot||void 0,onScroll:e.onScroll,"data-drop-target":I||void 0,"data-empty":U||void 0,"data-focused":H||void 0,"data-focus-visible":P||void 0,"data-layout":e.layout||"stack","data-orientation":e.orientation||"vertical"},c.createElement(oe,{values:[[le,e],[B,n],[O,{dragAndDropHooks:l,dragState:F,dropState:S}],[Me,{elementType:"div"}],[Pe,{render:qe}],[ue,{name:"ListBoxSection",render:je}]]},c.createElement($,{collection:b,scrollRef:o,persistedKeys:De(u,l,S),renderDropIndicator:ae(l,S)})),q,T))}function je(t,e,o,i="react-aria-ListBoxSection"){let r=s.useContext(B),{dragAndDropHooks:d,dropState:a}=s.useContext(O),{CollectionBranch:l}=s.useContext(N),[f,p]=xe();var n;let{headingProps:b,groupProps:u}=Re({heading:p,"aria-label":(n=t["aria-label"])!==null&&n!==void 0?n:void 0}),v=L({defaultClassName:i,className:t.className,style:t.style,values:{}});return c.createElement("section",{..._(t),...u,...v,ref:e},c.createElement(Fe.Provider,{value:{...b,ref:f}},c.createElement(l,{collection:r.collection,parent:o,renderDropIndicator:ae(d,a)})))}const ft=Z("item",function(e,o,i){let r=R(o),d=s.useContext(B),{dragAndDropHooks:a,dragState:l,dropState:f}=s.useContext(O),{optionProps:p,labelProps:n,descriptionProps:b,...u}=We({key:i.key,"aria-label":e?.["aria-label"]},d,r),{hoverProps:v,isHovered:x}=te({isDisabled:!u.allowsSelection&&!u.hasAction,onHoverStart:i.props.onHoverStart,onHoverChange:i.props.onHoverChange,onHoverEnd:i.props.onHoverEnd}),m=null;l&&a&&(m=a.useDraggableItem({key:i.key},l));let g=null;f&&a&&(g=a.useDroppableItem({target:{type:"item",key:i.key,dropPosition:"on"}},f,r));let h=l&&l.isDragging(i.key),D=L({...e,id:void 0,children:e.children,defaultClassName:"react-aria-ListBoxItem",values:{...u,isHovered:x,selectionMode:d.selectionManager.selectionMode,selectionBehavior:d.selectionManager.selectionBehavior,allowsDragging:!!l,isDragging:h,isDropTarget:g?.isDropTarget}});s.useEffect(()=>{i.textValue},[i.textValue]);let E=e.href?"a":"div";return c.createElement(E,{...k(p,v,m?.dragProps,g?.dropProps),...D,ref:r,"data-allows-dragging":!!l||void 0,"data-selected":u.isSelected||void 0,"data-disabled":u.isDisabled||void 0,"data-hovered":x||void 0,"data-focused":u.isFocused||void 0,"data-focus-visible":u.isFocusVisible||void 0,"data-pressed":u.isPressed||void 0,"data-dragging":h||void 0,"data-drop-target":g?.isDropTarget||void 0,"data-selection-mode":d.selectionManager.selectionMode==="none"?void 0:d.selectionManager.selectionMode},c.createElement(oe,{values:[[Ie,{slots:{[he]:n,label:n,description:b}}]]},D.children))});function qe(t,e){e=R(e);let{dragAndDropHooks:o,dropState:i}=s.useContext(O),{dropIndicatorProps:r,isHidden:d,isDropTarget:a}=o.useDropIndicator(t,i,e);return d?null:c.createElement(Ge,{...t,dropIndicatorProps:r,isDropTarget:a,ref:e})}function Xe(t,e){let{dropIndicatorProps:o,isDropTarget:i,...r}=t,d=L({...r,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:i}});return c.createElement("div",{...o,...d,role:"option",ref:e,"data-drop-target":i||void 0})}const Ge=s.forwardRef(Xe);Z("loader",function(e,o,i){let r=s.useContext(B),{isVirtualized:d}=s.useContext(N),{isLoading:a,onLoadMore:l,scrollOffset:f,...p}=e,n=s.useRef(null),b=s.useMemo(()=>({onLoadMore:l,collection:r?.collection,sentinelRef:n,scrollOffset:f}),[l,f,r?.collection]);ye(b,n);let u=L({...p,id:void 0,children:i.rendered,defaultClassName:"react-aria-ListBoxLoadingIndicator",values:null}),v={tabIndex:-1};return d&&(v["aria-posinset"]=i.index+1,v["aria-setsize"]=r.collection.size),c.createElement(c.Fragment,null,c.createElement("div",{style:{position:"relative",width:0,height:0},inert:_e(!0)},c.createElement("div",{"data-testid":"loadMoreSentinel",ref:n,style:{position:"absolute",height:1,width:1}})),a&&u.children&&c.createElement("div",{...k(_(e),v),...u,role:"option",ref:o},u.children))});const re=({size:t=24,color:e="currentColor",...o})=>s.createElement("svg",{viewBox:"0 0 24 24",width:t,height:t,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...o},s.createElement("path",{d:"M18 6 6 18M6 6l12 12"}));re.displayName="XClose";const Y={sm:{root:"p-0.5",icon:"size-2.5"},md:{root:"p-0.5",icon:"size-3"},lg:{root:"p-[3px]",icon:"size-3.5"}},Je=({size:t="md",className:e,...o})=>J.jsx(He,{slot:"remove","aria-label":"Remove this tag",className:Q("flex cursor-pointer rounded-[3px] text-fg-quaternary outline-focus-ring transition duration-100 ease-linear hover:bg-primary_hover hover:text-fg-quaternary_hover focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed",Y[t].root,e),...o,children:J.jsx(re,{className:Q("transition-inherit-all",Y[t].icon),strokeWidth:"3"})});Je.__docgenInfo={description:"",methods:[],displayName:"TagCloseX",props:{size:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}]},description:"",defaultValue:{value:'"md"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}},composes:["AriaButtonProps","RefAttributes"]};export{K as $,Je as T,Oe as a,le as b,B as c,ut as d,ft as e};
