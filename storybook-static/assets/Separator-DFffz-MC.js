import{x as f,y as w,g as D,c as N,q as S}from"./Collection-Dtki8IjD.js";import{$ as x}from"./context-FZ710-cz.js";import{r as u,c as R}from"./iframe-BCkU_Mh_.js";import{$ as K,l as C}from"./useFocusRing-S0-S86YF.js";function H(a,e){let t=a;for(f(t,e)&&(t=t.parentElement);t&&!f(t,e);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const L=Symbol.for("react-aria.i18n.locale"),P=Symbol.for("react-aria.i18n.strings");let s;class d{getStringForLocale(e,t){let l=this.getStringsForLocale(t)[e];if(!l)throw new Error(`Could not find intl message ${e} in ${t} locale`);return l}getStringsForLocale(e){let t=this.strings[e];return t||(t=I(e,this.strings,this.defaultLocale),this.strings[e]=t),t}static getGlobalDictionaryForPackage(e){if(typeof window>"u")return null;let t=window[L];if(s===void 0){let l=window[P];if(!l)return null;s={};for(let r in l)s[r]=new d({[t]:l[r]},t)}let i=s?.[e];if(!i)throw new Error(`Strings for package "${e}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return i}constructor(e,t="en-US"){this.strings=Object.fromEntries(Object.entries(e).filter(([,i])=>i)),this.defaultLocale=t}}function I(a,e,t="en-US"){if(e[a])return e[a];let i=B(a);if(e[i])return e[i];for(let l in e)if(l.startsWith(i+"-"))return e[l];return e[t]}function B(a){return Intl.Locale?new Intl.Locale(a).language:a.split("-")[0]}const b=new Map,$=new Map;class M{format(e,t){let i=this.strings.getStringForLocale(e,this.locale);return typeof i=="function"?i(t,this):i}plural(e,t,i="cardinal"){let l=t["="+e];if(l)return typeof l=="function"?l():l;let r=this.locale+":"+i,o=b.get(r);o||(o=new Intl.PluralRules(this.locale,{type:i}),b.set(r,o));let n=o.select(e);return l=t[n]||t.other,typeof l=="function"?l():l}number(e){let t=$.get(this.locale);return t||(t=new Intl.NumberFormat(this.locale),$.set(this.locale,t)),t.format(e)}select(e,t){let i=e[t]||e.other;return typeof i=="function"?i():i}constructor(e,t){this.locale=e,this.strings=t}}const m=new WeakMap;function F(a){let e=m.get(a);return e||(e=new d(a),m.set(a,e)),e}function _(a,e){return e&&d.getGlobalDictionaryForPackage(e)||F(a)}function G(a,e){let{locale:t}=x(),i=_(a,e);return u.useMemo(()=>new M(t,i),[t,i])}let y=new Map;function O(a){let{locale:e}=x(),t=e+(a?Object.entries(a).sort((l,r)=>l[0]<r[0]?-1:1).join():"");if(y.has(t))return y.get(t);let i=new Intl.Collator(e,a);return y.set(t,i),i}class p{getItemRect(e){let t=this.ref.current;if(!t)return null;let i=e!=null?w(this.ref,e):null;if(!i)return null;let l=t.getBoundingClientRect(),r=i.getBoundingClientRect();return{x:r.left-l.left+t.scrollLeft,y:r.top-l.top+t.scrollTop,width:r.width,height:r.height}}getContentSize(){let e=this.ref.current;var t,i;return{width:(t=e?.scrollWidth)!==null&&t!==void 0?t:0,height:(i=e?.scrollHeight)!==null&&i!==void 0?i:0}}getVisibleRect(){let e=this.ref.current;var t,i,l,r;return{x:(t=e?.scrollLeft)!==null&&t!==void 0?t:0,y:(i=e?.scrollTop)!==null&&i!==void 0?i:0,width:(l=e?.offsetWidth)!==null&&l!==void 0?l:0,height:(r=e?.offsetHeight)!==null&&r!==void 0?r:0}}constructor(e){this.ref=e}}class E{isDisabled(e){var t;return this.disabledBehavior==="all"&&(((t=e.props)===null||t===void 0?void 0:t.isDisabled)||this.disabledKeys.has(e.key))}findNextNonDisabled(e,t){let i=e;for(;i!=null;){let l=this.collection.getItem(i);if(l?.type==="item"&&!this.isDisabled(l))return i;i=t(i)}return null}getNextKey(e){let t=e;return t=this.collection.getKeyAfter(t),this.findNextNonDisabled(t,i=>this.collection.getKeyAfter(i))}getPreviousKey(e){let t=e;return t=this.collection.getKeyBefore(t),this.findNextNonDisabled(t,i=>this.collection.getKeyBefore(i))}findKey(e,t,i){let l=e,r=this.layoutDelegate.getItemRect(l);if(!r||l==null)return null;let o=r;do{if(l=t(l),l==null)break;r=this.layoutDelegate.getItemRect(l)}while(r&&i(o,r)&&l!=null);return l}isSameRow(e,t){return e.y===t.y||e.x!==t.x}isSameColumn(e,t){return e.x===t.x||e.y!==t.y}getKeyBelow(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getNextKey(t),this.isSameRow):this.getNextKey(e)}getKeyAbove(e){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(e,t=>this.getPreviousKey(t),this.isSameRow):this.getPreviousKey(e)}getNextColumn(e,t){return t?this.getPreviousKey(e):this.getNextKey(e)}getKeyRightOf(e){let t=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,i=>this.layoutDelegate[t](i))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="rtl"):this.findKey(e,i=>this.getNextColumn(i,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="rtl"):null}getKeyLeftOf(e){let t=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[t]?(e=this.layoutDelegate[t](e),this.findNextNonDisabled(e,i=>this.layoutDelegate[t](i))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(e,this.direction==="ltr"):this.findKey(e,i=>this.getNextColumn(i,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(e,this.direction==="ltr"):null}getFirstKey(){let e=this.collection.getFirstKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyAfter(t))}getLastKey(){let e=this.collection.getLastKey();return this.findNextNonDisabled(e,t=>this.collection.getKeyBefore(t))}getKeyPageAbove(e){let t=this.ref.current,i=this.layoutDelegate.getItemRect(e);if(!i)return null;if(t&&!f(t))return this.getFirstKey();let l=e;if(this.orientation==="horizontal"){let r=Math.max(0,i.x+i.width-this.layoutDelegate.getVisibleRect().width);for(;i&&i.x>r&&l!=null;)l=this.getKeyAbove(l),i=l==null?null:this.layoutDelegate.getItemRect(l)}else{let r=Math.max(0,i.y+i.height-this.layoutDelegate.getVisibleRect().height);for(;i&&i.y>r&&l!=null;)l=this.getKeyAbove(l),i=l==null?null:this.layoutDelegate.getItemRect(l)}return l??this.getFirstKey()}getKeyPageBelow(e){let t=this.ref.current,i=this.layoutDelegate.getItemRect(e);if(!i)return null;if(t&&!f(t))return this.getLastKey();let l=e;if(this.orientation==="horizontal"){let r=Math.min(this.layoutDelegate.getContentSize().width,i.y-i.width+this.layoutDelegate.getVisibleRect().width);for(;i&&i.x<r&&l!=null;)l=this.getKeyBelow(l),i=l==null?null:this.layoutDelegate.getItemRect(l)}else{let r=Math.min(this.layoutDelegate.getContentSize().height,i.y-i.height+this.layoutDelegate.getVisibleRect().height);for(;i&&i.y<r&&l!=null;)l=this.getKeyBelow(l),i=l==null?null:this.layoutDelegate.getItemRect(l)}return l??this.getLastKey()}getKeyForSearch(e,t){if(!this.collator)return null;let i=this.collection,l=t||this.getFirstKey();for(;l!=null;){let r=i.getItem(l);if(!r)return null;let o=r.textValue.slice(0,e.length);if(r.textValue&&this.collator.compare(o,e)===0)return l;l=this.getNextKey(l)}return null}constructor(...e){if(e.length===1){let t=e[0];this.collection=t.collection,this.ref=t.ref,this.collator=t.collator,this.disabledKeys=t.disabledKeys||new Set,this.disabledBehavior=t.disabledBehavior||"all",this.orientation=t.orientation||"vertical",this.direction=t.direction,this.layout=t.layout||"stack",this.layoutDelegate=t.layoutDelegate||new p(t.ref)}else this.collection=e[0],this.disabledKeys=e[1],this.ref=e[2],this.collator=e[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new p(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function U(a){let{selectionManager:e,collection:t,disabledKeys:i,ref:l,keyboardDelegate:r,layoutDelegate:o}=a,n=O({usage:"search",sensitivity:"base"}),h=e.disabledBehavior,c=u.useMemo(()=>r||new E({collection:t,disabledKeys:i,disabledBehavior:h,ref:l,collator:n,layoutDelegate:o}),[r,o,t,i,l,n,h]),{collectionProps:g}=D({...a,ref:l,selectionManager:e,keyboardDelegate:c});return{listProps:g}}const v=new WeakMap;function X(a){let e=v.get(a);if(e!=null)return e;let t=0,i=l=>{for(let r of l)r.type==="section"?i(N(r,a)):r.type==="item"&&t++};return i(a),v.set(a,t),t}function z(a){let e=K(a,{labelable:!0}),t;return a.orientation==="vertical"&&(t="vertical"),a.elementType!=="hr"?{separatorProps:{...e,role:"separator","aria-orientation":t}}:{separatorProps:e}}const Y=u.createContext(null),q=u.createContext({}),A=u.createContext({}),k=S("separator",function(e,t){[e,t]=C(e,t,A);let{elementType:i,orientation:l,style:r,className:o,slot:n,...h}=e,c=i||"hr";c==="hr"&&l==="vertical"&&(c="div");let{separatorProps:g}=z({...h,elementType:i,orientation:l});return R.createElement(c,{...K(e),...g,style:r,className:o??"react-aria-Separator",ref:t,slot:n||void 0})});export{G as $,H as a,_ as b,d as c,M as d,p as e,O as f,E as g,k as h,U as i,X as j,q as k,Y as l,A as m};
