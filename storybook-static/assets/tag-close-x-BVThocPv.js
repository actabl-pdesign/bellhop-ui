import{h as se,m as ce,l as ue,p as H,w as fe,q as ee}from"./Collection-DGLKe8Ch.js";import{$ as I,g as $e,h as oe,b as k,a as X,k as be,E as ve,w as pe,p as te,y as G,l as ge,r as R,v as me,q as he,m as L,n as ae,s as xe,C as Pe}from"./useFocusRing-CRLlfMnZ.js";import{$ as U,a as ye,d as le,b as De,c as Se}from"./DragAndDrop-6QNPY90Q.js";import{i as Ce,j as Ee,l as ke,f as _e,g as Me,m as we,k as Fe}from"./Separator-9B6S0UMg.js";import{$ as Ie}from"./Text-CJP0SgTk.js";import{$ as Le}from"./inertValue-CkXK_2nY.js";import{r as n,R as c,j as J}from"./iframe-DcsACL-T.js";import{b as Ve,$ as Be}from"./useListState-nasrJiLE.js";import{$ as Ne}from"./context-DYXxa4-O.js";import{$ as ze}from"./useLabel-BUpPyaXs.js";import{b as Te}from"./usePress-A8tq1RUv.js";import{c as Ae}from"./FocusScope-BL-duAYa.js";import{$ as He}from"./Button-bxb_fpyI.js";import{c as Q}from"./cx-X4VLeaWk.js";const K=new WeakMap;function Ue(o){return typeof o=="string"?o.replace(/\s*/g,""):""+o}function Oe(o,e){let t=K.get(o);if(!t)throw new Error("Unknown list");return`${t.id}-option-${Ue(e)}`}function We(o,e,t){let i=I(o,{labelable:!0}),r=o.selectionBehavior||"toggle",d=o.linkBehavior||(r==="replace"?"action":"override");r==="toggle"&&d==="action"&&(d="override");let{listProps:a}=Ce({...o,ref:t,selectionManager:e.selectionManager,collection:e.collection,disabledKeys:e.disabledKeys,linkBehavior:d}),{focusWithinProps:l}=$e({onFocusWithin:o.onFocus,onBlurWithin:o.onBlur,onFocusWithinChange:o.onFocusChange}),f=oe(o.id);K.set(e,{id:f,shouldUseVirtualFocus:o.shouldUseVirtualFocus,shouldSelectOnPressUp:o.shouldSelectOnPressUp,shouldFocusOnHover:o.shouldFocusOnHover,isVirtualized:o.isVirtualized,onAction:o.onAction,linkBehavior:d});let{labelProps:p,fieldProps:s}=ze({...o,id:f,labelElementType:"span"});return{labelProps:p,listBoxProps:k(i,l,e.selectionManager.selectionMode==="multiple"?{"aria-multiselectable":"true"}:{},{role:"listbox",...k(s,a)})}}function Re(o,e,t){var i,r;let{key:d}=o,a=K.get(e);var l;let f=(l=o.isDisabled)!==null&&l!==void 0?l:e.selectionManager.isDisabled(d);var p;let s=(p=o.isSelected)!==null&&p!==void 0?p:e.selectionManager.isSelected(d);var b;let u=(b=o.shouldSelectOnPressUp)!==null&&b!==void 0?b:a?.shouldSelectOnPressUp;var v;let h=(v=o.shouldFocusOnHover)!==null&&v!==void 0?v:a?.shouldFocusOnHover;var m;let g=(m=o.shouldUseVirtualFocus)!==null&&m!==void 0?m:a?.shouldUseVirtualFocus;var x;let y=(x=o.isVirtualized)!==null&&x!==void 0?x:a?.isVirtualized,E=X(),_=X(),D={role:"option","aria-disabled":f||void 0,"aria-selected":e.selectionManager.selectionMode!=="none"?s:void 0};be()&&ve()||(D["aria-label"]=o["aria-label"],D["aria-labelledby"]=E,D["aria-describedby"]=_);let $=e.collection.getItem(d);if(y){let P=Number($?.index);D["aria-posinset"]=Number.isNaN(P)?void 0:P+1,D["aria-setsize"]=Ee(e.collection)}let M=a?.onAction?()=>{var P;return a==null||(P=a.onAction)===null||P===void 0?void 0:P.call(a,d)}:void 0,B=Oe(e,d),{itemProps:w,isPressed:S,isFocused:C,hasAction:F,allowsSelection:N}=se({selectionManager:e.selectionManager,key:d,ref:t,shouldSelectOnPressUp:u,allowsDifferentPressOrigin:u&&h,isVirtualized:y,shouldUseVirtualFocus:g,isDisabled:f,onAction:M||!($==null||(i=$.props)===null||i===void 0)&&i.onAction?pe($==null||(r=$.props)===null||r===void 0?void 0:r.onAction,M):void 0,linkBehavior:a?.linkBehavior,id:B}),{hoverProps:z}=te({isDisabled:f||!h,onHoverStart(){G()||(e.selectionManager.setFocused(!0),e.selectionManager.setFocusedKey(d))}}),T=I($?.props);delete T.id;let A=Te($?.props);return{optionProps:{...D,...k(T,w,z,A),id:B},labelProps:{id:E},descriptionProps:{id:_},isFocused:C,isFocusVisible:C&&e.selectionManager.isFocused&&G(),isSelected:s,isDisabled:f,isPressed:S,allowsSelection:N,hasAction:F}}function Ke(o){let{heading:e,"aria-label":t}=o,i=oe();return{itemProps:{role:"presentation"},headingProps:e?{id:i,role:"presentation"}:{},groupProps:{role:"group","aria-label":t,"aria-labelledby":e?i:void 0}}}const ie=n.createContext(null),V=n.createContext(null),fo=n.forwardRef(function(e,t){[e,t]=ge(e,t,ie);let i=n.useContext(V);return i?c.createElement(re,{state:i,props:e,listBoxRef:t}):c.createElement(ce,{content:c.createElement(ue,e)},r=>c.createElement(je,{props:e,listBoxRef:t,collection:r}))});function je({props:o,listBoxRef:e,collection:t}){o={...o,collection:t,children:null,items:null};let{layoutDelegate:i}=n.useContext(H),r=Be({...o,layoutDelegate:i});return c.createElement(re,{state:r,props:o,listBoxRef:e})}function re({state:o,props:e,listBoxRef:t}){var i;let{filter:r,collectionProps:d,collectionRef:a}=n.useContext(ke)||{};e=n.useMemo(()=>d?{...e,...d}:e,[e,d]);let{dragAndDropHooks:l,layout:f="stack",orientation:p="vertical"}=e;t=R(n.useMemo(()=>me(t,a!==void 0?a:null),[a,t]));let s=Ve(o,r),{collection:b,selectionManager:u}=s,v=!!l?.useDraggableCollectionState,h=!!l?.useDroppableCollectionState,{direction:m}=Ne(),{disabledBehavior:g,disabledKeys:x}=u,y=_e({usage:"search",sensitivity:"base"}),{isVirtualized:E,layoutDelegate:_,dropTargetDelegate:D,CollectionRoot:$}=n.useContext(H),M=n.useMemo(()=>e.keyboardDelegate||new Me({collection:b,collator:y,ref:t,disabledKeys:x,disabledBehavior:g,layout:f,orientation:p,direction:m,layoutDelegate:_}),[b,y,t,g,x,p,m,e.keyboardDelegate,f,_]),{listBoxProps:B}=We({...e,shouldSelectOnPressUp:v||e.shouldSelectOnPressUp,keyboardDelegate:M,isVirtualized:E},s,t);n.useRef(v),n.useRef(h),n.useEffect(()=>{},[v,h]);let w,S,C,F=!1,N=null,z=n.useRef(null);if(v&&l){w=l.useDraggableCollectionState({collection:b,selectionManager:u,preview:l.renderDragPreview?z:void 0}),l.useDraggableCollection({},w,t);let W=l.DragPreview;N=l.renderDragPreview?c.createElement(W,{ref:z},l.renderDragPreview):null}if(h&&l){S=l.useDroppableCollectionState({collection:b,selectionManager:u});let W=l.dropTargetDelegate||D||new l.ListDropTargetDelegate(b,t,{orientation:p,layout:f,direction:m});C=l.useDroppableCollection({keyboardDelegate:M,dropTargetDelegate:W},S,t),F=S.isDropTarget({type:"root"})}let{focusProps:T,isFocused:A,isFocusVisible:P}=he(),O=s.collection.size===0||s.collection.size===1&&((i=s.collection.getItem(s.collection.getFirstKey()))===null||i===void 0?void 0:i.type)==="loader",j={isDropTarget:F,isEmpty:O,isFocused:A,isFocusVisible:P,layout:e.layout||"stack",state:s},ne=L({className:e.className,style:e.style,defaultClassName:"react-aria-ListBox",values:j}),q=null;return O&&e.renderEmptyState&&(q=c.createElement("div",{role:"option",style:{display:"contents"}},e.renderEmptyState(j))),c.createElement(Ae,null,c.createElement("div",{...I(e),...k(B,T,C?.collectionProps),...ne,ref:t,slot:e.slot||void 0,onScroll:e.onScroll,"data-drop-target":F||void 0,"data-empty":O||void 0,"data-focused":A||void 0,"data-focus-visible":P||void 0,"data-layout":e.layout||"stack","data-orientation":e.orientation||"vertical"},c.createElement(ae,{values:[[ie,e],[V,s],[U,{dragAndDropHooks:l,dragState:w,dropState:S}],[we,{elementType:"div"}],[ye,{render:Xe}],[fe,{name:"ListBoxSection",render:qe}]]},c.createElement($,{collection:b,scrollRef:t,persistedKeys:De(u,l,S),renderDropIndicator:le(l,S)})),q,N))}function qe(o,e,t,i="react-aria-ListBoxSection"){let r=n.useContext(V),{dragAndDropHooks:d,dropState:a}=n.useContext(U),{CollectionBranch:l}=n.useContext(H),[f,p]=xe();var s;let{headingProps:b,groupProps:u}=Ke({heading:p,"aria-label":(s=o["aria-label"])!==null&&s!==void 0?s:void 0}),v=L({defaultClassName:i,className:o.className,style:o.style,values:{}});return c.createElement("section",{...I(o),...u,...v,ref:e},c.createElement(Fe.Provider,{value:{...b,ref:f}},c.createElement(l,{collection:r.collection,parent:t,renderDropIndicator:le(d,a)})))}const $o=ee("item",function(e,t,i){let r=R(t),d=n.useContext(V),{dragAndDropHooks:a,dragState:l,dropState:f}=n.useContext(U),{optionProps:p,labelProps:s,descriptionProps:b,...u}=Re({key:i.key,"aria-label":e?.["aria-label"]},d,r),{hoverProps:v,isHovered:h}=te({isDisabled:!u.allowsSelection&&!u.hasAction,onHoverStart:i.props.onHoverStart,onHoverChange:i.props.onHoverChange,onHoverEnd:i.props.onHoverEnd}),m=null;l&&a&&(m=a.useDraggableItem({key:i.key},l));let g=null;f&&a&&(g=a.useDroppableItem({target:{type:"item",key:i.key,dropPosition:"on"}},f,r));let x=l&&l.isDragging(i.key),y=L({...e,id:void 0,children:e.children,defaultClassName:"react-aria-ListBoxItem",values:{...u,isHovered:h,selectionMode:d.selectionManager.selectionMode,selectionBehavior:d.selectionManager.selectionBehavior,allowsDragging:!!l,isDragging:x,isDropTarget:g?.isDropTarget}});n.useEffect(()=>{i.textValue},[i.textValue]);let E=e.href?"a":"div";return c.createElement(E,{...k(p,v,m?.dragProps,g?.dropProps),...y,ref:r,"data-allows-dragging":!!l||void 0,"data-selected":u.isSelected||void 0,"data-disabled":u.isDisabled||void 0,"data-hovered":h||void 0,"data-focused":u.isFocused||void 0,"data-focus-visible":u.isFocusVisible||void 0,"data-pressed":u.isPressed||void 0,"data-dragging":x||void 0,"data-drop-target":g?.isDropTarget||void 0,"data-selection-mode":d.selectionManager.selectionMode==="none"?void 0:d.selectionManager.selectionMode},c.createElement(ae,{values:[[Ie,{slots:{[Pe]:s,label:s,description:b}}]]},y.children))});function Xe(o,e){e=R(e);let{dragAndDropHooks:t,dropState:i}=n.useContext(U),{dropIndicatorProps:r,isHidden:d,isDropTarget:a}=t.useDropIndicator(o,i,e);return d?null:c.createElement(Je,{...o,dropIndicatorProps:r,isDropTarget:a,ref:e})}function Ge(o,e){let{dropIndicatorProps:t,isDropTarget:i,...r}=o,d=L({...r,defaultClassName:"react-aria-DropIndicator",values:{isDropTarget:i}});return c.createElement("div",{...t,...d,role:"option",ref:e,"data-drop-target":i||void 0})}const Je=n.forwardRef(Ge);ee("loader",function(e,t,i){let r=n.useContext(V),{isVirtualized:d}=n.useContext(H),{isLoading:a,onLoadMore:l,scrollOffset:f,...p}=e,s=n.useRef(null),b=n.useMemo(()=>({onLoadMore:l,collection:r?.collection,sentinelRef:s,scrollOffset:f}),[l,f,r?.collection]);Se(b,s);let u=L({...p,id:void 0,children:i.rendered,defaultClassName:"react-aria-ListBoxLoadingIndicator",values:null}),v={tabIndex:-1};return d&&(v["aria-posinset"]=i.index+1,v["aria-setsize"]=r.collection.size),c.createElement(c.Fragment,null,c.createElement("div",{style:{position:"relative",width:0,height:0},inert:Le(!0)},c.createElement("div",{"data-testid":"loadMoreSentinel",ref:s,style:{position:"absolute",height:1,width:1}})),a&&u.children&&c.createElement("div",{...k(I(e),v),...u,role:"option",ref:t},u.children))});const de=({size:o=24,color:e="currentColor",...t})=>n.createElement("svg",{viewBox:"0 0 24 24",width:o,height:o,stroke:e,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",...t},n.createElement("path",{d:"M18 6 6 18M6 6l12 12"}));de.displayName="XClose";const Y={sm:{root:"p-0.5",icon:"size-2.5"},md:{root:"p-0.5",icon:"size-3"},lg:{root:"p-[3px]",icon:"size-3.5"}},Z=({size:o="md",className:e,...t})=>J.jsx(He,{slot:"remove","aria-label":"Remove this tag",className:Q("flex cursor-pointer rounded-[3px] text-fg-quaternary outline-focus-ring transition duration-100 ease-linear hover:bg-primary_hover hover:text-fg-quaternary_hover focus-visible:outline-2 focus-visible:outline-offset-2 disabled:cursor-not-allowed",Y[o].root,e),...t,children:J.jsx(de,{className:Q("transition-inherit-all",Y[o].icon),strokeWidth:"3"})});try{Z.displayName="TagCloseX",Z.__docgenInfo={description:"",displayName:"TagCloseX",props:{size:{defaultValue:{value:"md"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:"undefined"},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},className:{defaultValue:null,description:"The CSS [className](https://developer.mozilla.org/en-US/docs/Web/API/Element/className) for the element. A function may be provided to compute the class based on component state.",name:"className",required:!1,type:{name:"string | undefined"}}}}}catch{}export{K as $,Z as T,Oe as a,ie as b,V as c,fo as d,$o as e};
