import{c,r as a,j as $}from"./iframe-BCkU_Mh_.js";import{$ as I}from"./Button-oF9jgeNR.js";import{f as H,$ as _,b as q,e as V,c as A,g as W,h as z}from"./OverlayArrow-DOYRQ6-M.js";import{u as F,$ as k,p as j,b as E,h as U,A as L,d as K,y as Q,n as Y,U as Z,l as G,i as J,m as X}from"./useFocusRing-S0-S86YF.js";import{$ as ee}from"./index-DoBMcjas.js";import{c as R}from"./cx-X4VLeaWk.js";const D=c.createContext(null);function te(e){let{children:o}=e,t=a.useContext(D),[l,i]=a.useState(0),s=a.useMemo(()=>({parent:t,modalCount:l,addModal(){i(n=>n+1),t&&t.addModal()},removeModal(){i(n=>n-1),t&&t.removeModal()}}),[t,l]);return c.createElement(D.Provider,{value:s},o)}function oe(){let e=a.useContext(D);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function re(e){let{modalProviderProps:o}=oe();return c.createElement("div",{"data-overlay-container":!0,...e,...o})}function le(e){return c.createElement(te,null,c.createElement(re,e))}function ne(e){let o=F(),{portalContainer:t=o?null:document.body,...l}=e,{getContainer:i}=H();if(!e.portalContainer&&i&&(t=i()),c.useEffect(()=>{if(t?.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let s=c.createElement(le,l);return ee.createPortal(s,t)}function ie(e,o){let t=k(e,{labelable:!0}),{hoverProps:l}=j({onHoverStart:()=>o?.open(!0),onHoverEnd:()=>o?.close()});return{tooltipProps:E(t,l,{role:"tooltip"})}}function ae(e,o,t){let{isDisabled:l,trigger:i}=e,s=U(),n=a.useRef(!1),r=a.useRef(!1),u=()=>{(n.current||r.current)&&o.open(r.current)},f=x=>{!n.current&&!r.current&&o.close(x)};a.useEffect(()=>{let x=T=>{t&&t.current&&T.key==="Escape"&&(T.stopPropagation(),o.close(!0))};if(o.isOpen)return document.addEventListener("keydown",x,!0),()=>{document.removeEventListener("keydown",x,!0)}},[t,o]);let b=()=>{i!=="focus"&&(K()==="pointer"?n.current=!0:n.current=!1,u())},g=()=>{i!=="focus"&&(r.current=!1,n.current=!1,f())},p=()=>{r.current=!1,n.current=!1,f(!0)},y=()=>{Q()&&(r.current=!0,u())},d=()=>{r.current=!1,n.current=!1,f(!0)},{hoverProps:O}=j({isDisabled:l,onHoverStart:b,onHoverEnd:g}),{focusableProps:C}=L({isDisabled:l,onFocus:y,onBlur:d},t);return{triggerProps:{"aria-describedby":o.isOpen?s:void 0,...E(C,O,{onPointerDown:p,onKeyDown:p,tabIndex:void 0})},tooltipProps:{id:s}}}const se=1500,S=500;let h={},ce=0,P=!1,m=null,v=null;function M(e={}){let{delay:o=se,closeDelay:t=S}=e,{isOpen:l,open:i,close:s}=_(e),n=a.useMemo(()=>`${++ce}`,[]),r=a.useRef(null),u=a.useRef(s),f=()=>{h[n]=p},b=()=>{for(let d in h)d!==n&&(h[d](!0),delete h[d])},g=()=>{r.current&&clearTimeout(r.current),r.current=null,b(),f(),P=!0,i(),m&&(clearTimeout(m),m=null),v&&(clearTimeout(v),v=null)},p=d=>{d||t<=0?(r.current&&clearTimeout(r.current),r.current=null,u.current()):r.current||(r.current=setTimeout(()=>{r.current=null,u.current()},t)),m&&(clearTimeout(m),m=null),P&&(v&&clearTimeout(v),v=setTimeout(()=>{delete h[n],v=null,P=!1},Math.max(S,t)))},y=()=>{b(),f(),!l&&!m&&!P?m=setTimeout(()=>{m=null,P=!0,g()},o):l||g()};return a.useEffect(()=>{u.current=s},[s]),a.useEffect(()=>()=>{r.current&&clearTimeout(r.current),h[n]&&delete h[n]},[n]),{isOpen:l,open:d=>{!d&&o>0&&!r.current?y():g()},close:p}}const N=a.createContext(null),B=a.createContext(null);function fe(e){let o=M(e),t=a.useRef(null),{triggerProps:l,tooltipProps:i}=ae(e,o,t);return c.createElement(Y,{values:[[N,o],[B,{...i,triggerRef:t}]]},c.createElement(Z,{...l,ref:t},e.children))}const de=a.forwardRef(function({UNSTABLE_portalContainer:o,...t},l){[t,l]=G(t,l,B);let i=a.useContext(N),s=M(t),n=t.isOpen!=null||t.defaultOpen!=null||!i?s:i,r=q(l,n.isOpen)||t.isExiting||!1;return!n.isOpen&&!r?null:c.createElement(ne,{portalContainer:o},c.createElement(ue,{...t,tooltipRef:l,isExiting:r}))});function ue(e){let o=a.useContext(N),t=a.useRef(null),[l,i]=a.useState(0);J(()=>{t.current&&o.isOpen&&i(t.current.getBoundingClientRect().width)},[o.isOpen,t]);let{overlayProps:s,arrowProps:n,placement:r}=V({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,offset:e.offset,crossOffset:e.crossOffset,isOpen:o.isOpen,arrowSize:l,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,onClose:()=>o.close(!0)}),u=A(e.tooltipRef,!!r)||e.isEntering||!1,f=X({...e,defaultClassName:"react-aria-Tooltip",values:{placement:r,isEntering:u,isExiting:e.isExiting,state:o}});e=E(e,s);let{tooltipProps:b}=ie(e,o);return c.createElement("div",{...b,ref:e.tooltipRef,...f,style:{...s.style,...f.style},"data-placement":r??void 0,"data-entering":u||void 0,"data-exiting":e.isExiting||void 0},c.createElement(W.Provider,{value:{...n,placement:r,ref:t}},f.children))}const pe={top:"origin-bottom","top left":"origin-bottom-left","top right":"origin-bottom-right",bottom:"origin-top","bottom left":"origin-top-left","bottom right":"origin-top-right",left:"origin-right","left top":"origin-top-right","left bottom":"origin-bottom-right",start:"origin-right","start top":"origin-top-left","start bottom":"origin-bottom-left",right:"origin-left","right top":"origin-top-left","right bottom":"origin-bottom-left",end:"origin-left","end top":"origin-top-left","end bottom":"origin-bottom-left"},me=({title:e,description:o,children:t,arrow:l=!1,delay:i=300,closeDelay:s=0,trigger:n,isDisabled:r,isOpen:u,defaultOpen:f,offset:b=6,crossOffset:g,placement:p="top",onOpenChange:y,...d})=>{const O=["top left","top end","bottom left","bottom end"].includes(p),C=["top right","top start","bottom right","bottom start"].includes(p),x=O?-12:C?12:0;return $.jsxs(fe,{trigger:n,delay:i,closeDelay:s,isDisabled:r,isOpen:u,defaultOpen:f,onOpenChange:y,children:[t,$.jsx(de,{...d,offset:b,placement:p,crossOffset:g??x,className:({isEntering:T,isExiting:w})=>R(T&&"ease-out animate-in",w&&"ease-in animate-out"),children:({isEntering:T,isExiting:w})=>$.jsxs("div",{className:R("z-50 flex max-w-xs flex-col items-start gap-1 rounded-lg bg-primary-solid px-3 shadow-lg will-change-transform",o?"py-3":"py-2",pe[p],T&&"ease-out animate-in fade-in zoom-in-95 in-placement-left:slide-in-from-right-0.5 in-placement-right:slide-in-from-left-0.5 in-placement-top:slide-in-from-bottom-0.5 in-placement-bottom:slide-in-from-top-0.5",w&&"ease-in animate-out fade-out zoom-out-95 in-placement-left:slide-out-to-right-0.5 in-placement-right:slide-out-to-left-0.5 in-placement-top:slide-out-to-bottom-0.5 in-placement-bottom:slide-out-to-top-0.5"),children:[$.jsx("span",{className:"text-xs font-semibold text-white",children:e}),o&&$.jsx("span",{className:"text-xs font-medium text-tooltip-supporting-text",children:o}),l&&$.jsx(z,{children:$.jsx("svg",{viewBox:"0 0 100 100",className:"size-2.5 fill-bg-primary-solid in-placement-left:-rotate-90 in-placement-right:rotate-90 in-placement-top:rotate-0 in-placement-bottom:rotate-180",children:$.jsx("path",{d:"M0,0 L35.858,35.858 Q50,50 64.142,35.858 L100,0 Z"})})})]})})]})},$e=e=>{if(e.asChild){const i=a.useRef(null),{focusableProps:s}=L({isDisabled:e.isDisabled},i);return a.cloneElement(e.children,E(s,e.children.props,{ref:i}))}const{asChild:o,className:t,...l}=e;return $.jsx(I,{...l,className:i=>R("h-max w-max outline-hidden",typeof t=="function"?t(i):t),children:e.children})};me.__docgenInfo={description:"",methods:[],displayName:"Tooltip",props:{title:{required:!0,tsType:{name:"ReactNode"},description:"The title of the tooltip."},description:{required:!1,tsType:{name:"ReactNode"},description:"The description of the tooltip."},arrow:{required:!1,tsType:{name:"boolean"},description:`Whether to show the arrow on the tooltip.

@default false`,defaultValue:{value:"false",computed:!1}},delay:{required:!1,tsType:{name:"number"},description:`Delay in milliseconds before the tooltip is shown.

@default 300`,defaultValue:{value:"300",computed:!1}},closeDelay:{defaultValue:{value:"0",computed:!1},required:!1},offset:{defaultValue:{value:"6",computed:!1},required:!1},placement:{defaultValue:{value:'"top"',computed:!1},required:!1}},composes:["AriaTooltipTriggerComponentProps","Omit"]};$e.__docgenInfo={description:"",methods:[],displayName:"TooltipTrigger"};export{me as T,$e as a};
