import{r as f,c as L,j as D}from"./iframe-BCkU_Mh_.js";import{$ as be,a as Me}from"./Label-mDor0P2O.js";import{f as re,e as ue,G as Ke,M as Re,a1 as ke,b as C,c as Fe,S as Ie,A as Ee,l as ae,s as pe,m as Q,$ as ge,n as he,p as $e,o as Le,q as Ne}from"./useFocusRing-S0-S86YF.js";import{$ as ne}from"./context-FZ710-cz.js";import{$ as je}from"./NumberFormatter-DNR9MAW-.js";import{$ as Ce}from"./useControlledState-C9_838oz.js";import{a as Y,$ as oe}from"./number-nHrFdSb-.js";import{$ as ve}from"./useLabel-ris045y1.js";import{$ as Ae}from"./useFormReset-CvzoYEno.js";import{$ as He}from"./VisuallyHidden-deBwHFJp.js";import{c as de,s as Be}from"./cx-X4VLeaWk.js";import"./Hidden-CzPdlwLZ.js";import"./clsx-B-dksMZM.js";import"./useLabels-Cmrkda8K.js";function ye(a){let{onMoveStart:e,onMove:t,onMoveEnd:s}=a,c=f.useRef({didMove:!1,lastPosition:null,id:null}),{addGlobalListener:l,removeGlobalListener:h}=re(),m=ue((o,p,g,n)=>{g===0&&n===0||(c.current.didMove||(c.current.didMove=!0,e?.({type:"movestart",pointerType:p,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})),t?.({type:"move",pointerType:p,deltaX:g,deltaY:n,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey}))}),b=ue((o,p)=>{Ke(),c.current.didMove&&s?.({type:"moveend",pointerType:p,shiftKey:o.shiftKey,metaKey:o.metaKey,ctrlKey:o.ctrlKey,altKey:o.altKey})});return{moveProps:f.useMemo(()=>{let o={},p=()=>{Re(),c.current.didMove=!1};{let n=d=>{if(d.pointerId===c.current.id){var v,i;let w=d.pointerType||"mouse";var T,V;m(d,w,d.pageX-((T=(v=c.current.lastPosition)===null||v===void 0?void 0:v.pageX)!==null&&T!==void 0?T:0),d.pageY-((V=(i=c.current.lastPosition)===null||i===void 0?void 0:i.pageY)!==null&&V!==void 0?V:0)),c.current.lastPosition={pageX:d.pageX,pageY:d.pageY}}},$=d=>{if(d.pointerId===c.current.id){let v=d.pointerType||"mouse";b(d,v),c.current.id=null,h(window,"pointermove",n,!1),h(window,"pointerup",$,!1),h(window,"pointercancel",$,!1)}};o.onPointerDown=d=>{d.button===0&&c.current.id==null&&(p(),d.stopPropagation(),d.preventDefault(),c.current.lastPosition={pageX:d.pageX,pageY:d.pageY},c.current.id=d.pointerId,l(window,"pointermove",n,!1),l(window,"pointerup",$,!1),l(window,"pointercancel",$,!1))}}let g=(n,$,d)=>{p(),m(n,"keyboard",$,d),b(n,"keyboard")};return o.onKeyDown=n=>{switch(n.key){case"Left":case"ArrowLeft":n.preventDefault(),n.stopPropagation(),g(n,-1,0);break;case"Right":case"ArrowRight":n.preventDefault(),n.stopPropagation(),g(n,1,0);break;case"Up":case"ArrowUp":n.preventDefault(),n.stopPropagation(),g(n,0,-1);break;case"Down":case"ArrowDown":n.preventDefault(),n.stopPropagation(),g(n,0,1);break}},o},[c,l,h,m,b])}}function _e(a={}){let{locale:e}=ne();return f.useMemo(()=>new je(e,a),[e,a])}const ze=0,Ue=100,Ge=1;function qe(a){const{isDisabled:e=!1,minValue:t=ze,maxValue:s=Ue,numberFormatter:c,step:l=Ge,orientation:h="horizontal"}=a;let m=f.useMemo(()=>{let r=(s-t)/10;return r=Y(r,0,r+l,l),Math.max(r,l)},[l,s,t]),b=f.useCallback(r=>r?.map((y,S)=>{let _=S===0?t:r[S-1],z=S===r.length-1?s:r[S+1];return Y(y,_,z,l)}),[t,s,l]),x=f.useMemo(()=>b(fe(a.value)),[a.value]),o=f.useMemo(()=>{var r;return b((r=fe(a.defaultValue))!==null&&r!==void 0?r:[t])},[a.defaultValue,t]),p=me(a.value,a.defaultValue,a.onChange),g=me(a.value,a.defaultValue,a.onChangeEnd);const[n,$]=Ce(x,o,p),[d,v]=f.useState(new Array(n.length).fill(!1)),i=f.useRef(new Array(n.length).fill(!0)),[T,V]=f.useState(void 0),w=f.useRef(n),P=f.useRef(d);let M=r=>{w.current=r,$(r)},I=r=>{P.current=r,v(r)};function A(r){return(r-t)/(s-t)}function H(r){return r===0?t:n[r-1]}function X(r){return r===n.length-1?s:n[r+1]}function N(r){return i.current[r]}function B(r,y){i.current[r]=y}function K(r,y){if(e||!N(r))return;const S=H(r),_=X(r);y=Y(y,S,_,l);let z=ce(w.current,r,y);M(z)}function E(r,y){if(e||!N(r))return;y&&(w.current=n);const S=P.current[r];P.current=ce(P.current,r,y),I(P.current),g&&S&&!P.current.some(Boolean)&&g(w.current)}function R(r){return c.format(r)}function u(r,y){K(r,F(y))}function k(r){return Math.round((r-t)/l)*l+t}function F(r){const y=r*(s-t)+t;return oe(k(y),t,s)}function j(r,y=1){let S=Math.max(y,l);K(r,Y(n[r]+S,t,s,l))}function O(r,y=1){let S=Math.max(y,l);K(r,Y(n[r]-S,t,s,l))}return{values:n,getThumbValue:r=>n[r],setThumbValue:K,setThumbPercent:u,isThumbDragging:r=>d[r],setThumbDragging:E,focusedThumb:T,setFocusedThumb:V,getThumbPercent:r=>A(n[r]),getValuePercent:A,getThumbValueLabel:r=>R(n[r]),getFormattedValue:R,getThumbMinValue:H,getThumbMaxValue:X,getPercentValue:F,isThumbEditable:N,setThumbEditable:B,incrementThumb:j,decrementThumb:O,step:l,pageSize:m,orientation:h,isDisabled:e}}function ce(a,e,t){return a[e]===t?a:[...a.slice(0,e),t,...a.slice(e+1)]}function fe(a){if(a!=null)return Array.isArray(a)?a:[a]}function me(a,e,t){return s=>{t?.(typeof a=="number"||typeof e=="number"?s[0]:s)}}const le=new WeakMap;function te(a,e){let t=le.get(a);if(!t)throw new Error("Unknown slider state");return`${t.id}-${e}`}function Xe(a,e,t){let{labelProps:s,fieldProps:c}=ve(a),l=a.orientation==="vertical";var h;le.set(e,{id:(h=s.id)!==null&&h!==void 0?h:c.id,"aria-describedby":a["aria-describedby"],"aria-details":a["aria-details"]});let{direction:m}=ne(),{addGlobalListener:b,removeGlobalListener:x}=re();const o=f.useRef(null),p=m==="rtl",g=f.useRef(null),{moveProps:n}=ye({onMoveStart(){g.current=null},onMove({deltaX:i,deltaY:T}){if(!t.current)return;let{height:V,width:w}=t.current.getBoundingClientRect(),P=l?V:w;g.current==null&&o.current!=null&&(g.current=e.getThumbPercent(o.current)*P);let M=l?T:i;if((l||p)&&(M=-M),g.current+=M,o.current!=null&&t.current){const I=oe(g.current/P,0,1);e.setThumbPercent(o.current,I)}},onMoveEnd(){o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null)}});let $=f.useRef(void 0),d=(i,T,V,w)=>{if(t.current&&!a.isDisabled&&e.values.every((P,M)=>!e.isThumbDragging(M))){let{height:P,width:M,top:I,left:A}=t.current.getBoundingClientRect(),H=l?P:M,K=((l?w:V)-(l?I:A))/H;(m==="rtl"||l)&&(K=1-K);let E=e.getPercentValue(K),R,u=e.values.findIndex(k=>E-k<0);if(u===0)R=u;else if(u===-1)R=e.values.length-1;else{let k=e.values[u-1],F=e.values[u];Math.abs(k-E)<Math.abs(F-E)?R=u-1:R=u}R>=0&&e.isThumbEditable(R)?(i.preventDefault(),o.current=R,e.setFocusedThumb(R),$.current=T,e.setThumbDragging(o.current,!0),e.setThumbValue(R,E),b(window,"mouseup",v,!1),b(window,"touchend",v,!1),b(window,"pointerup",v,!1)):o.current=null}},v=i=>{var T,V;((V=i.pointerId)!==null&&V!==void 0?V:(T=i.changedTouches)===null||T===void 0?void 0:T[0].identifier)===$.current&&(o.current!=null&&(e.setThumbDragging(o.current,!1),o.current=null),x(window,"mouseup",v,!1),x(window,"touchend",v,!1),x(window,"pointerup",v,!1))};return"htmlFor"in s&&s.htmlFor&&(delete s.htmlFor,s.onClick=()=>{var i;(i=document.getElementById(te(e,0)))===null||i===void 0||i.focus(),ke("keyboard")}),{labelProps:s,groupProps:{role:"group",...c},trackProps:C({onMouseDown(i){i.button!==0||i.altKey||i.ctrlKey||i.metaKey||d(i,void 0,i.clientX,i.clientY)},onPointerDown(i){i.pointerType==="mouse"&&(i.button!==0||i.altKey||i.ctrlKey||i.metaKey)||d(i,i.pointerId,i.clientX,i.clientY)},onTouchStart(i){d(i,i.changedTouches[0].identifier,i.changedTouches[0].clientX,i.changedTouches[0].clientY)},style:{position:"relative",touchAction:"none"}},n),outputProps:{htmlFor:e.values.map((i,T)=>te(e,T)).join(" "),"aria-live":"off"}}}function Oe(a,e){let{index:t=0,isRequired:s,validationState:c,isInvalid:l,trackRef:h,inputRef:m,orientation:b=e.orientation,name:x}=a,o=a.isDisabled||e.isDisabled,p=b==="vertical",{direction:g}=ne(),{addGlobalListener:n,removeGlobalListener:$}=re(),d=le.get(e);var v;const{labelProps:i,fieldProps:T}=ve({...a,id:te(e,t),"aria-labelledby":`${d.id} ${(v=a["aria-labelledby"])!==null&&v!==void 0?v:""}`.trim()}),V=e.values[t],w=f.useCallback(()=>{m.current&&Fe(m.current)},[m]),P=e.focusedThumb===t;f.useEffect(()=>{P&&w()},[P,w]);let M=g==="rtl",I=f.useRef(null),{keyboardProps:A}=Ie({onKeyDown(u){let{getThumbMaxValue:k,getThumbMinValue:F,decrementThumb:j,incrementThumb:O,setThumbValue:r,setThumbDragging:y,pageSize:S}=e;if(!/^(PageUp|PageDown|Home|End)$/.test(u.key)){u.continuePropagation();return}switch(u.preventDefault(),y(t,!0),u.key){case"PageUp":O(t,S);break;case"PageDown":j(t,S);break;case"Home":r(t,F(t));break;case"End":r(t,k(t));break}y(t,!1)}}),{moveProps:H}=ye({onMoveStart(){I.current=null,e.setThumbDragging(t,!0)},onMove({deltaX:u,deltaY:k,pointerType:F,shiftKey:j}){const{getThumbPercent:O,setThumbPercent:r,decrementThumb:y,incrementThumb:S,step:_,pageSize:z}=e;if(!h.current)return;let{width:Ve,height:Se}=h.current.getBoundingClientRect(),se=p?Se:Ve;if(I.current==null&&(I.current=O(t)*se),F==="keyboard")u>0&&M||u<0&&!M||k>0?y(t,j?z:_):S(t,j?z:_);else{let ee=p?k:u;(p||M)&&(ee=-ee),I.current+=ee,r(t,oe(I.current/se,0,1))}},onMoveEnd(){e.setThumbDragging(t,!1)}});e.setThumbEditable(t,!o);const{focusableProps:X}=Ee(C(a,{onFocus:()=>e.setFocusedThumb(t),onBlur:()=>e.setFocusedThumb(void 0)}),m);let N=f.useRef(void 0),B=u=>{w(),N.current=u,e.setThumbDragging(t,!0),n(window,"mouseup",K,!1),n(window,"touchend",K,!1),n(window,"pointerup",K,!1)},K=u=>{var k,F;((F=u.pointerId)!==null&&F!==void 0?F:(k=u.changedTouches)===null||k===void 0?void 0:k[0].identifier)===N.current&&(w(),e.setThumbDragging(t,!1),$(window,"mouseup",K,!1),$(window,"touchend",K,!1),$(window,"pointerup",K,!1))},E=e.getThumbPercent(t);(p||g==="rtl")&&(E=1-E);let R=o?{}:C(A,H,{onMouseDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||B()},onPointerDown:u=>{u.button!==0||u.altKey||u.ctrlKey||u.metaKey||B(u.pointerId)},onTouchStart:u=>{B(u.changedTouches[0].identifier)}});return Ae(m,V,u=>{e.setThumbValue(t,u)}),{inputProps:C(X,T,{type:"range",tabIndex:o?void 0:0,min:e.getThumbMinValue(t),max:e.getThumbMaxValue(t),step:e.step,value:V,name:x,disabled:o,"aria-orientation":b,"aria-valuetext":e.getThumbValueLabel(t),"aria-required":s||void 0,"aria-invalid":l||c==="invalid"||void 0,"aria-errormessage":a["aria-errormessage"],"aria-describedby":[d["aria-describedby"],a["aria-describedby"]].filter(Boolean).join(" "),"aria-details":[d["aria-details"],a["aria-details"]].filter(Boolean).join(" "),onChange:u=>{e.setThumbValue(t,parseFloat(u.target.value))}}),thumbProps:{...R,style:{position:"absolute",[p?"top":"left"]:`${E*100}%`,transform:"translate(-50%, -50%)",touchAction:"none"}},labelProps:i,isDragging:e.isThumbDragging(t),isDisabled:o,isFocused:P}}const Ye=f.createContext(null),Z=f.createContext(null),ie=f.createContext(null),Te=f.createContext(null),We=f.forwardRef(function(e,t){[e,t]=ae(e,t,Ye);let s=f.useRef(null),c=_e(e.formatOptions),l=qe({...e,numberFormatter:c}),[h,m]=pe(!e["aria-label"]&&!e["aria-labelledby"]),{groupProps:b,trackProps:x,labelProps:o,outputProps:p}=Xe({...e,label:m},l,s),g=Q({...e,values:{orientation:l.orientation,isDisabled:l.isDisabled,state:l},defaultClassName:"react-aria-Slider"}),n=ge(e);return delete n.id,L.createElement(he,{values:[[Z,l],[ie,{...x,ref:s}],[Te,p],[be,{...o,ref:h}]]},L.createElement("div",{...n,...b,...g,ref:t,slot:e.slot||void 0,"data-orientation":l.orientation,"data-disabled":l.isDisabled||void 0}))}),Je=f.forwardRef(function(e,t){[e,t]=ae(e,t,Te);let{children:s,style:c,className:l,...h}=e,m=f.useContext(Z),b=Q({className:l,style:c,children:s,defaultChildren:m.getThumbValueLabel(0),defaultClassName:"react-aria-SliderOutput",values:{orientation:m.orientation,isDisabled:m.isDisabled,state:m}});return L.createElement("output",{...h,...b,ref:t,"data-orientation":m.orientation||void 0,"data-disabled":m.isDisabled||void 0})}),Qe=f.forwardRef(function(e,t){[e,t]=ae(e,t,ie);let s=f.useContext(Z),{onHoverStart:c,onHoverEnd:l,onHoverChange:h,...m}=e,{hoverProps:b,isHovered:x}=$e({onHoverStart:c,onHoverEnd:l,onHoverChange:h}),o=Q({...e,defaultClassName:"react-aria-SliderTrack",values:{orientation:s.orientation,isDisabled:s.isDisabled,isHovered:x,state:s}});return L.createElement("div",{...C(m,b),...o,ref:t,"data-hovered":x||void 0,"data-orientation":s.orientation||void 0,"data-disabled":s.isDisabled||void 0})}),Ze=f.forwardRef(function(e,t){let{inputRef:s=null}=e,c=f.useContext(Z),{ref:l}=Le(ie),{index:h=0}=e,m=f.useRef(null),b=s||m,[x,o]=pe(!e["aria-label"]&&!e["aria-labelledby"]),{thumbProps:p,inputProps:g,labelProps:n,isDragging:$,isFocused:d,isDisabled:v}=Oe({...e,index:h,trackRef:l,inputRef:b,label:o},c),{focusProps:i,isFocusVisible:T}=Ne(),{hoverProps:V,isHovered:w}=$e(e),P=Q({...e,defaultClassName:"react-aria-SliderThumb",values:{state:c,isHovered:w,isDragging:$,isFocused:d,isFocusVisible:T,isDisabled:v}}),M=ge(e);return delete M.id,L.createElement("div",{...C(M,p,V),...P,ref:t,style:{...p.style,...P.style},"data-hovered":w||void 0,"data-dragging":$||void 0,"data-focused":d||void 0,"data-focus-visible":T||void 0,"data-disabled":v||void 0},L.createElement(He,null,L.createElement("input",{ref:b,...C(g,i)})),L.createElement(he,{values:[[be,{...n,ref:x}]]},P.children))}),et=Be({default:"hidden",bottom:"absolute top-2 left-1/2 -translate-x-1/2 translate-y-full text-md font-medium text-primary","top-floating":"absolute -top-2 left-1/2 -translate-x-1/2 -translate-y-full rounded-lg bg-primary px-3 py-2 text-xs font-semibold text-secondary shadow-lg ring-1 ring-secondary_alt"}),J=({labelPosition:a="default",minValue:e=0,maxValue:t=100,labelFormatter:s,formatOptions:c,...l})=>{const h={style:"percent",maximumFractionDigits:0};return D.jsxs(We,{...l,minValue:e,maxValue:t,formatOptions:c??h,children:[D.jsx(Me,{}),D.jsx(Qe,{className:"relative h-2 w-full rounded-full bg-quaternary",children:({state:{values:m,getThumbValue:b,getThumbPercent:x,getFormattedValue:o}})=>{const p=m.length===1?0:x(0),g=m.length===1?x(0):x(1)-p;return D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"absolute z-10 h-2 w-full rounded-full bg-brand-solid",style:{left:`${p*100}%`,width:`${g*100}%`}}),m.map((n,$)=>D.jsx(Ze,{index:$,className:({isFocusVisible:d,isDragging:v})=>de("absolute top-1/2 z-20 box-border size-6 cursor-grab rounded-full bg-slider-handle-bg shadow-md ring-2 ring-slider-handle-border ring-inset",d&&"outline-2 outline-offset-2 outline-focus-ring",v&&"cursor-grabbing"),children:D.jsx(Je,{className:de("whitespace-nowrap",et[a]),children:s?s(b($)):o(b($)/100)})},$))]})}})]})};J.__docgenInfo={description:"",methods:[],displayName:"Slider",props:{labelPosition:{required:!1,tsType:{name:"unknown"},description:"",defaultValue:{value:'"default"',computed:!1}},labelFormatter:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: number) => string",signature:{arguments:[{type:{name:"number"},name:"value"}],return:{name:"string"}}},description:""},minValue:{defaultValue:{value:"0",computed:!1},required:!1},maxValue:{defaultValue:{value:"100",computed:!1},required:!1}},composes:["AriaSliderProps"]};const Pe=()=>D.jsx(J,{defaultValue:[0,25]}),xe=()=>D.jsx(J,{defaultValue:[0,25],labelPosition:"bottom"}),we=()=>D.jsx(J,{defaultValue:[0,25],labelPosition:"top-floating"}),De=()=>D.jsx(J,{defaultValue:50,labelPosition:"top-floating"});Pe.__docgenInfo={description:"",methods:[],displayName:"Default"};xe.__docgenInfo={description:"",methods:[],displayName:"BottomLabel"};we.__docgenInfo={description:"",methods:[],displayName:"TopFloating"};De.__docgenInfo={description:"",methods:[],displayName:"SingleThumb"};const pt={title:"Base components/Sliders",decorators:[a=>D.jsx("div",{className:"bg-primary p-16",children:D.jsx("div",{className:"max-w-xs",children:D.jsx(a,{})})})]},W=()=>D.jsx(Pe,{}),U=()=>D.jsx(xe,{});U.storyName="Bottom label";const G=()=>D.jsx(we,{});G.storyName="Top floating";const q=()=>D.jsx(De,{});q.storyName="Single thumb";W.__docgenInfo={description:"",methods:[],displayName:"Default"};U.__docgenInfo={description:"",methods:[],displayName:"BottomLabel"};G.__docgenInfo={description:"",methods:[],displayName:"TopFloating"};q.__docgenInfo={description:"",methods:[],displayName:"SingleThumb"};W.parameters={...W.parameters,docs:{...W.parameters?.docs,source:{originalSource:"() => <Sliders.Default />",...W.parameters?.docs?.source}}};U.parameters={...U.parameters,docs:{...U.parameters?.docs,source:{originalSource:"() => <Sliders.BottomLabel />",...U.parameters?.docs?.source}}};G.parameters={...G.parameters,docs:{...G.parameters?.docs,source:{originalSource:"() => <Sliders.TopFloating />",...G.parameters?.docs?.source}}};q.parameters={...q.parameters,docs:{...q.parameters?.docs,source:{originalSource:"() => <Sliders.SingleThumb />",...q.parameters?.docs?.source}}};export{U as BottomLabel,W as Default,q as SingleThumb,G as TopFloating,pt as default};
