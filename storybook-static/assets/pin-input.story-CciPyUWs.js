import{r as n,j as t}from"./iframe-BCkU_Mh_.js";import{c as k}from"./cx-X4VLeaWk.js";var He=Object.defineProperty,$e=Object.defineProperties,qe=Object.getOwnPropertyDescriptors,ee=Object.getOwnPropertySymbols,ye=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable,Se=(e,i,o)=>i in e?He(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,Ze=(e,i)=>{for(var o in i||(i={}))ye.call(i,o)&&Se(e,o,i[o]);if(ee)for(var o of ee(i))je.call(i,o)&&Se(e,o,i[o]);return e},Je=(e,i)=>$e(e,qe(i)),Ke=(e,i)=>{var o={};for(var s in e)ye.call(e,s)&&i.indexOf(s)<0&&(o[s]=e[s]);if(e!=null&&ee)for(var s of ee(e))i.indexOf(s)<0&&je.call(e,s)&&(o[s]=e[s]);return o};function Qe(e){let i=setTimeout(e,0),o=setTimeout(e,10),s=setTimeout(e,50);return[i,o,s]}function Ue(e){let i=n.useRef();return n.useEffect(()=>{i.current=e}),i.current}var Xe=18,Ce=40,Ye=`${Ce}px`,et=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function tt({containerRef:e,inputRef:i,pushPasswordManagerStrategy:o,isFocused:s}){let[f,u]=n.useState(!1),[w,h]=n.useState(!1),[P,H]=n.useState(!1),$=n.useMemo(()=>o==="none"?!1:(o==="increase-width"||o==="experimental-no-flickering")&&f&&w,[f,w,o]),W=n.useCallback(()=>{let v=e.current,M=i.current;if(!v||!M||P||o==="none")return;let y=v,E=y.getBoundingClientRect().left+y.offsetWidth,A=y.getBoundingClientRect().top+y.offsetHeight/2,d=E-Xe,q=A;document.querySelectorAll(et).length===0&&document.elementFromPoint(d,q)===v||(u(!0),H(!0))},[e,i,P,o]);return n.useEffect(()=>{let v=e.current;if(!v||o==="none")return;function M(){let E=window.innerWidth-v.getBoundingClientRect().right;h(E>=Ce)}M();let y=setInterval(M,1e3);return()=>{clearInterval(y)}},[e,o]),n.useEffect(()=>{let v=s||document.activeElement===i.current;if(o==="none"||!v)return;let M=setTimeout(W,0),y=setTimeout(W,2e3),E=setTimeout(W,5e3),A=setTimeout(()=>{H(!0)},6e3);return()=>{clearTimeout(M),clearTimeout(y),clearTimeout(E),clearTimeout(A)}},[i,s,o,W]),{hasPWMBadge:f,willPushPWMBadge:$,PWM_BADGE_SPACE_WIDTH:Ye}}var we=n.createContext({}),Ee=n.forwardRef((e,i)=>{var o=e,{value:s,onChange:f,maxLength:u,textAlign:w="left",pattern:h,placeholder:P,inputMode:H="numeric",onComplete:$,pushPasswordManagerStrategy:W="increase-width",pasteTransformer:v,containerClassName:M,noScriptCSSFallback:y=nt,render:E,children:A}=o,d=Ke(o,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),q,se,ue,ce,de;let[Ve,Le]=n.useState(typeof d.defaultValue=="string"?d.defaultValue:""),p=s??Ve,D=Ue(p),Z=n.useCallback(r=>{f?.(r),Le(r)},[f]),C=n.useMemo(()=>h?typeof h=="string"?new RegExp(h):h:null,[h]),m=n.useRef(null),ne=n.useRef(null),re=n.useRef({value:p,onChange:Z,isIOS:typeof window<"u"&&((se=(q=window?.CSS)==null?void 0:q.supports)==null?void 0:se.call(q,"-webkit-touch-callout","none"))}),X=n.useRef({prev:[(ue=m.current)==null?void 0:ue.selectionStart,(ce=m.current)==null?void 0:ce.selectionEnd,(de=m.current)==null?void 0:de.selectionDirection]});n.useImperativeHandle(i,()=>m.current,[]),n.useEffect(()=>{let r=m.current,a=ne.current;if(!r||!a)return;re.current.value!==r.value&&re.current.onChange(r.value),X.current.prev=[r.selectionStart,r.selectionEnd,r.selectionDirection];function g(){if(document.activeElement!==r){K(null),Q(null);return}let c=r.selectionStart,x=r.selectionEnd,Y=r.selectionDirection,j=r.maxLength,T=r.value,I=X.current.prev,_=-1,N=-1,V;if(T.length!==0&&c!==null&&x!==null){let ze=c===x,Fe=c===T.length&&T.length<j;if(ze&&!Fe){let L=c;if(L===0)_=0,N=1,V="forward";else if(L===j)_=L-1,N=L,V="backward";else if(j>1&&T.length>1){let ae=0;if(I[0]!==null&&I[1]!==null){V=L<I[1]?"backward":"forward";let Ge=I[0]===I[1]&&I[0]<j;V==="backward"&&!Ge&&(ae=-1)}_=ae+L,N=ae+L+1}}_!==-1&&N!==-1&&_!==N&&m.current.setSelectionRange(_,N,V)}let ve=_!==-1?_:c,be=N!==-1?N:x,Oe=V??Y;K(ve),Q(be),X.current.prev=[ve,be,Oe]}if(document.addEventListener("selectionchange",g,{capture:!0}),g(),document.activeElement===r&&oe(!0),!document.getElementById("input-otp-style")){let c=document.createElement("style");if(c.id="input-otp-style",document.head.appendChild(c),c.sheet){let x="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";U(c.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),U(c.sheet,`[data-input-otp]:autofill { ${x} }`),U(c.sheet,`[data-input-otp]:-webkit-autofill { ${x} }`),U(c.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),U(c.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let b=()=>{a&&a.style.setProperty("--root-height",`${r.clientHeight}px`)};b();let S=new ResizeObserver(b);return S.observe(r),()=>{document.removeEventListener("selectionchange",g,{capture:!0}),S.disconnect()}},[]);let[pe,me]=n.useState(!1),[J,oe]=n.useState(!1),[R,K]=n.useState(null),[B,Q]=n.useState(null);n.useEffect(()=>{Qe(()=>{var r,a,g,b;(r=m.current)==null||r.dispatchEvent(new Event("input"));let S=(a=m.current)==null?void 0:a.selectionStart,c=(g=m.current)==null?void 0:g.selectionEnd,x=(b=m.current)==null?void 0:b.selectionDirection;S!==null&&c!==null&&(K(S),Q(c),X.current.prev=[S,c,x])})},[p,J]),n.useEffect(()=>{D!==void 0&&p!==D&&D.length<u&&p.length===u&&$?.(p)},[u,$,D,p]);let O=tt({containerRef:ne,inputRef:m,pushPasswordManagerStrategy:W,isFocused:J}),fe=n.useCallback(r=>{let a=r.currentTarget.value.slice(0,u);if(a.length>0&&C&&!C.test(a)){r.preventDefault();return}typeof D=="string"&&a.length<D.length&&document.dispatchEvent(new Event("selectionchange")),Z(a)},[u,Z,D,C]),he=n.useCallback(()=>{var r;if(m.current){let a=Math.min(m.current.value.length,u-1),g=m.current.value.length;(r=m.current)==null||r.setSelectionRange(a,g),K(a),Q(g)}oe(!0)},[u]),ge=n.useCallback(r=>{var a,g;let b=m.current;if(!v&&(!re.current.isIOS||!r.clipboardData||!b))return;let S=r.clipboardData.getData("text/plain"),c=v?v(S):S;r.preventDefault();let x=(a=m.current)==null?void 0:a.selectionStart,Y=(g=m.current)==null?void 0:g.selectionEnd,j=(x!==Y?p.slice(0,x)+c+p.slice(Y):p.slice(0,x)+c+p.slice(x)).slice(0,u);if(j.length>0&&C&&!C.test(j))return;b.value=j,Z(j);let T=Math.min(j.length,u-1),I=j.length;b.setSelectionRange(T,I),K(T),Q(I)},[u,Z,C,p]),We=n.useMemo(()=>({position:"relative",cursor:d.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[d.disabled]),xe=n.useMemo(()=>({position:"absolute",inset:0,width:O.willPushPWMBadge?`calc(100% + ${O.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:O.willPushPWMBadge?`inset(0 ${O.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:w,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[O.PWM_BADGE_SPACE_WIDTH,O.willPushPWMBadge,w]),Ae=n.useMemo(()=>n.createElement("input",Je(Ze({autoComplete:d.autoComplete||"one-time-code"},d),{"data-input-otp":!0,"data-input-otp-placeholder-shown":p.length===0||void 0,"data-input-otp-mss":R,"data-input-otp-mse":B,inputMode:H,pattern:C?.source,"aria-placeholder":P,style:xe,maxLength:u,value:p,ref:m,onPaste:r=>{var a;ge(r),(a=d.onPaste)==null||a.call(d,r)},onChange:fe,onMouseOver:r=>{var a;me(!0),(a=d.onMouseOver)==null||a.call(d,r)},onMouseLeave:r=>{var a;me(!1),(a=d.onMouseLeave)==null||a.call(d,r)},onFocus:r=>{var a;he(),(a=d.onFocus)==null||a.call(d,r)},onBlur:r=>{var a;oe(!1),(a=d.onBlur)==null||a.call(d,r)}})),[fe,he,ge,H,xe,u,B,R,d,C?.source,p]),ie=n.useMemo(()=>({slots:Array.from({length:u}).map((r,a)=>{var g;let b=J&&R!==null&&B!==null&&(R===B&&a===R||a>=R&&a<B),S=p[a]!==void 0?p[a]:null,c=p[0]!==void 0?null:(g=P?.[a])!=null?g:null;return{char:S,placeholderChar:c,isActive:b,hasFakeCaret:b&&S===null}}),isFocused:J,isHovering:!d.disabled&&pe}),[J,pe,u,B,R,d.disabled,p]),Be=n.useMemo(()=>E?E(ie):n.createElement(we.Provider,{value:ie},A),[A,ie,E]);return n.createElement(n.Fragment,null,y!==null&&n.createElement("noscript",null,n.createElement("style",null,y)),n.createElement("div",{ref:ne,"data-input-otp-container":!0,style:We,className:M},Be,n.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ae)))});Ee.displayName="Input";function U(e,i){try{e.insertRule(i)}catch{console.error("input-otp could not insert CSS rule:",i)}}var nt=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Ie=n.createContext({size:"sm",id:"",digits:4,disabled:!1}),te=()=>{const e=n.useContext(Ie);if(!e)throw new Error("The 'usePinInputContext' hook must be used within a '<PinInput />'");return e},le=({className:e,size:i="md",digits:o=4,disabled:s,...f})=>{const u=n.useId();return t.jsx(Ie.Provider,{value:{size:i,digits:o,disabled:s,id:u},children:t.jsx("div",{role:"group",className:k("flex h-max flex-col gap-1.5",e),...f})})};le.displayName="Root";const Pe=({inputClassName:e,containerClassName:i,width:o,...s})=>{const{id:f,size:u,digits:w,disabled:h}=te(),P={sm:"h-12",md:"h-16",lg:"h-20"};return t.jsx(Ee,{...s,size:o,maxLength:w,disabled:h,id:"pin-input-"+f,"aria-label":"Enter your pin","aria-labelledby":"pin-input-label-"+f,"aria-describedby":"pin-input-description-"+f,containerClassName:k("flex flex-row gap-3",u==="sm"&&"gap-2",P[u],i),className:k("w-full! disabled:cursor-not-allowed",e)})};Pe.displayName="Group";const rt={sm:"size-12 px-2 py-0.5 text-display-md font-medium",md:"size-16 px-2 py-2.5 text-display-lg font-medium",lg:"size-20 px-2 py-3 text-display-xl font-medium"},Me=({index:e,className:i,...o})=>{const{size:s,disabled:f}=te(),{slots:u,isFocused:w}=n.useContext(we),h=u[e];return t.jsx("div",{...o,"aria-label":"Enter digit "+(e+1)+" of "+u.length,className:k("relative flex items-center justify-center rounded-xl bg-primary text-center text-placeholder_subtle ring-1 ring-primary transition-[box-shadow,background-color] duration-100 ease-linear ring-inset",rt[s],w&&h?.isActive&&"ring-2 ring-brand outline-2  outline-brand",h?.char&&"text-brand-tertiary_alt ring-2 ring-brand",f&&"bg-disabled_subtle text-fg-disabled_subtle ring-disabled",i),children:h?.char?h.char:h?.hasFakeCaret?t.jsx(ot,{size:s}):0})};Me.displayName="Slot";const ot=({size:e="md"})=>t.jsx("div",{className:k("pointer-events-none h-[1em] w-0.5 animate-caret-blink bg-fg-brand-primary",e==="lg"?"text-display-xl font-medium":"text-display-lg font-medium")}),_e=e=>t.jsx("div",{role:"separator",...e,className:k("text-center text-display-xl font-medium text-placeholder_subtle",e.className),children:"-"});_e.displayName="Separator";const Ne=({className:e,...i})=>{const{id:o}=te();return t.jsx("label",{...i,htmlFor:"pin-input-"+o,id:"pin-input-label-"+o,className:k("text-sm font-medium text-secondary",e)})};Ne.displayName="Label";const ke=({className:e,...i})=>{const{id:o}=te();return t.jsx("p",{...i,id:"pin-input-description-"+o,role:"description",className:k("text-sm text-tertiary",e)})};ke.displayName="Description";const l=le;l.Slot=Me;l.Label=Ne;l.Group=Pe;l.Separator=_e;l.Description=ke;le.__docgenInfo={description:"",methods:[],displayName:"Root",props:{size:{required:!1,tsType:{name:"union",raw:'"sm" | "md" | "lg"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'},{name:"literal",value:'"lg"'}]},description:"",defaultValue:{value:'"md"',computed:!1}},digits:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"4",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:""}},composes:["ComponentPropsWithRef"]};const De=()=>t.jsxs(l,{digits:6,size:"sm",children:[t.jsx(l.Label,{children:"Secure code"}),t.jsxs(l.Group,{children:[t.jsx(l.Slot,{index:0}),t.jsx(l.Slot,{index:1}),t.jsx(l.Slot,{index:2}),t.jsx(l.Separator,{}),t.jsx(l.Slot,{index:3}),t.jsx(l.Slot,{index:4}),t.jsx(l.Slot,{index:5})]}),t.jsx(l.Description,{children:"This is a hint text to help user."})]}),Re=()=>t.jsxs(l,{digits:6,size:"md",children:[t.jsx(l.Label,{children:"Secure code"}),t.jsxs(l.Group,{children:[t.jsx(l.Slot,{index:0}),t.jsx(l.Slot,{index:1}),t.jsx(l.Slot,{index:2}),t.jsx(l.Separator,{}),t.jsx(l.Slot,{index:3}),t.jsx(l.Slot,{index:4}),t.jsx(l.Slot,{index:5})]}),t.jsx(l.Description,{children:"This is a hint text to help user."})]}),Te=()=>t.jsxs(l,{digits:6,size:"lg",children:[t.jsx(l.Label,{children:"Secure code"}),t.jsxs(l.Group,{children:[t.jsx(l.Slot,{index:0}),t.jsx(l.Slot,{index:1}),t.jsx(l.Slot,{index:2}),t.jsx(l.Separator,{}),t.jsx(l.Slot,{index:3}),t.jsx(l.Slot,{index:4}),t.jsx(l.Slot,{index:5})]}),t.jsx(l.Description,{children:"This is a hint text to help user."})]});De.__docgenInfo={description:"",methods:[],displayName:"VerificationCodeInputSM"};Re.__docgenInfo={description:"",methods:[],displayName:"VerificationCodeInputMD"};Te.__docgenInfo={description:"",methods:[],displayName:"VerificationCodeInputLG"};const lt={title:"Base components/Inputs/Verification code input",decorators:[e=>t.jsx("div",{className:"flex min-h-screen w-full bg-primary p-4",children:t.jsx(e,{})})]},z=()=>t.jsx(De,{});z.storyName="Verification code input sm";const F=()=>t.jsx(Re,{});F.storyName="Verification code input md";const G=()=>t.jsx(Te,{});G.storyName="Verification code input lg";z.__docgenInfo={description:"",methods:[],displayName:"VerificationCodeInputSm"};F.__docgenInfo={description:"",methods:[],displayName:"VerificationCodeInputMd"};G.__docgenInfo={description:"",methods:[],displayName:"VerificationCodeInputLg"};z.parameters={...z.parameters,docs:{...z.parameters?.docs,source:{originalSource:"() => <PinInputs.VerificationCodeInputSM />",...z.parameters?.docs?.source}}};F.parameters={...F.parameters,docs:{...F.parameters?.docs,source:{originalSource:"() => <PinInputs.VerificationCodeInputMD />",...F.parameters?.docs?.source}}};G.parameters={...G.parameters,docs:{...G.parameters?.docs,source:{originalSource:"() => <PinInputs.VerificationCodeInputLG />",...G.parameters?.docs?.source}}};export{G as VerificationCodeInputLg,F as VerificationCodeInputMd,z as VerificationCodeInputSm,lt as default};
