import{R as c,r as a,j as $}from"./iframe-DcsACL-T.js";import{$ as H}from"./Button-bxb_fpyI.js";import{f as V,$ as W,b as q,e as z,c as A,g as F,h as k}from"./OverlayArrow-DORIqTi_.js";import{u as U,$ as K,p as I,b as E,h as Q,A as L,d as Y,y as Z,n as G,U as J,l as X,i as ee,m as te}from"./useFocusRing-CRLlfMnZ.js";import{P as oe}from"./index-DS_oXwaa.js";import{c as R}from"./cx-X4VLeaWk.js";const _=c.createContext(null);function re(e){let{children:o}=e,t=a.useContext(_),[n,i]=a.useState(0),s=a.useMemo(()=>({parent:t,modalCount:n,addModal(){i(l=>l+1),t&&t.addModal()},removeModal(){i(l=>l-1),t&&t.removeModal()}}),[t,n]);return c.createElement(_.Provider,{value:s},o)}function ne(){let e=a.useContext(_);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:void 0}}}function le(e){let{modalProviderProps:o}=ne();return c.createElement("div",{"data-overlay-container":!0,...e,...o})}function ie(e){return c.createElement(re,null,c.createElement(le,e))}function ae(e){let o=U(),{portalContainer:t=o?null:document.body,...n}=e,{getContainer:i}=V();if(!e.portalContainer&&i&&(t=i()),c.useEffect(()=>{if(t?.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[t]),!t)return null;let s=c.createElement(ie,n);return oe.createPortal(s,t)}function se(e,o){let t=K(e,{labelable:!0}),{hoverProps:n}=I({onHoverStart:()=>o?.open(!0),onHoverEnd:()=>o?.close()});return{tooltipProps:E(t,n,{role:"tooltip"})}}function ce(e,o,t){let{isDisabled:n,trigger:i}=e,s=Q(),l=a.useRef(!1),r=a.useRef(!1),u=()=>{(l.current||r.current)&&o.open(r.current)},d=h=>{!l.current&&!r.current&&o.close(h)};a.useEffect(()=>{let h=y=>{t&&t.current&&y.key==="Escape"&&(y.stopPropagation(),o.close(!0))};if(o.isOpen)return document.addEventListener("keydown",h,!0),()=>{document.removeEventListener("keydown",h,!0)}},[t,o]);let b=()=>{i!=="focus"&&(Y()==="pointer"?l.current=!0:l.current=!1,u())},g=()=>{i!=="focus"&&(r.current=!1,l.current=!1,d())},p=()=>{r.current=!1,l.current=!1,d(!0)},T=()=>{Z()&&(r.current=!0,u())},f=()=>{r.current=!1,l.current=!1,d(!0)},{hoverProps:w}=I({isDisabled:n,onHoverStart:b,onHoverEnd:g}),{focusableProps:C}=L({isDisabled:n,onFocus:T,onBlur:f},t);return{triggerProps:{"aria-describedby":o.isOpen?s:void 0,...E(C,w,{onPointerDown:p,onKeyDown:p,tabIndex:void 0})},tooltipProps:{id:s}}}const de=1500,D=500;let x={},fe=0,P=!1,m=null,v=null;function M(e={}){let{delay:o=de,closeDelay:t=D}=e,{isOpen:n,open:i,close:s}=W(e),l=a.useMemo(()=>`${++fe}`,[]),r=a.useRef(null),u=a.useRef(s),d=()=>{x[l]=p},b=()=>{for(let f in x)f!==l&&(x[f](!0),delete x[f])},g=()=>{r.current&&clearTimeout(r.current),r.current=null,b(),d(),P=!0,i(),m&&(clearTimeout(m),m=null),v&&(clearTimeout(v),v=null)},p=f=>{f||t<=0?(r.current&&clearTimeout(r.current),r.current=null,u.current()):r.current||(r.current=setTimeout(()=>{r.current=null,u.current()},t)),m&&(clearTimeout(m),m=null),P&&(v&&clearTimeout(v),v=setTimeout(()=>{delete x[l],v=null,P=!1},Math.max(D,t)))},T=()=>{b(),d(),!n&&!m&&!P?m=setTimeout(()=>{m=null,P=!0,g()},o):n||g()};return a.useEffect(()=>{u.current=s},[s]),a.useEffect(()=>()=>{r.current&&clearTimeout(r.current),x[l]&&delete x[l]},[l]),{isOpen:n,open:f=>{!f&&o>0&&!r.current?T():g()},close:p}}const N=a.createContext(null),B=a.createContext(null);function ue(e){let o=M(e),t=a.useRef(null),{triggerProps:n,tooltipProps:i}=ce(e,o,t);return c.createElement(G,{values:[[N,o],[B,{...i,triggerRef:t}]]},c.createElement(J,{...n,ref:t},e.children))}const pe=a.forwardRef(function({UNSTABLE_portalContainer:o,...t},n){[t,n]=X(t,n,B);let i=a.useContext(N),s=M(t),l=t.isOpen!=null||t.defaultOpen!=null||!i?s:i,r=q(n,l.isOpen)||t.isExiting||!1;return!l.isOpen&&!r?null:c.createElement(ae,{portalContainer:o},c.createElement(me,{...t,tooltipRef:n,isExiting:r}))});function me(e){let o=a.useContext(N),t=a.useRef(null),[n,i]=a.useState(0);ee(()=>{t.current&&o.isOpen&&i(t.current.getBoundingClientRect().width)},[o.isOpen,t]);let{overlayProps:s,arrowProps:l,placement:r}=z({placement:e.placement||"top",targetRef:e.triggerRef,overlayRef:e.tooltipRef,offset:e.offset,crossOffset:e.crossOffset,isOpen:o.isOpen,arrowSize:n,arrowBoundaryOffset:e.arrowBoundaryOffset,shouldFlip:e.shouldFlip,onClose:()=>o.close(!0)}),u=A(e.tooltipRef,!!r)||e.isEntering||!1,d=te({...e,defaultClassName:"react-aria-Tooltip",values:{placement:r,isEntering:u,isExiting:e.isExiting,state:o}});e=E(e,s);let{tooltipProps:b}=se(e,o);return c.createElement("div",{...b,ref:e.tooltipRef,...d,style:{...s.style,...d.style},"data-placement":r??void 0,"data-entering":u||void 0,"data-exiting":e.isExiting||void 0},c.createElement(F.Provider,{value:{...l,placement:r,ref:t}},d.children))}const $e={top:"origin-bottom","top left":"origin-bottom-left","top right":"origin-bottom-right",bottom:"origin-top","bottom left":"origin-top-left","bottom right":"origin-top-right",left:"origin-right","left top":"origin-top-right","left bottom":"origin-bottom-right",start:"origin-right","start top":"origin-top-left","start bottom":"origin-bottom-left",right:"origin-left","right top":"origin-top-left","right bottom":"origin-bottom-left",end:"origin-left","end top":"origin-top-left","end bottom":"origin-bottom-left"},S=({title:e,description:o,children:t,arrow:n=!1,delay:i=300,closeDelay:s=0,trigger:l,isDisabled:r,isOpen:u,defaultOpen:d,offset:b=6,crossOffset:g,placement:p="top",onOpenChange:T,...f})=>{const w=["top left","top end","bottom left","bottom end"].includes(p),C=["top right","top start","bottom right","bottom start"].includes(p),h=w?-12:C?12:0;return $.jsxs(ue,{trigger:l,delay:i,closeDelay:s,isDisabled:r,isOpen:u,defaultOpen:d,onOpenChange:T,children:[t,$.jsx(pe,{...f,offset:b,placement:p,crossOffset:g??h,className:({isEntering:y,isExiting:O})=>R(y&&"ease-out animate-in",O&&"ease-in animate-out"),children:({isEntering:y,isExiting:O})=>$.jsxs("div",{className:R("z-50 flex max-w-xs flex-col items-start gap-1 rounded-lg bg-primary-solid px-3 shadow-lg will-change-transform",o?"py-3":"py-2",$e[p],y&&"ease-out animate-in fade-in zoom-in-95 in-placement-left:slide-in-from-right-0.5 in-placement-right:slide-in-from-left-0.5 in-placement-top:slide-in-from-bottom-0.5 in-placement-bottom:slide-in-from-top-0.5",O&&"ease-in animate-out fade-out zoom-out-95 in-placement-left:slide-out-to-right-0.5 in-placement-right:slide-out-to-left-0.5 in-placement-top:slide-out-to-bottom-0.5 in-placement-bottom:slide-out-to-top-0.5"),children:[$.jsx("span",{className:"text-xs font-semibold text-white",children:e}),o&&$.jsx("span",{className:"text-xs font-medium text-tooltip-supporting-text",children:o}),n&&$.jsx(k,{children:$.jsx("svg",{viewBox:"0 0 100 100",className:"size-2.5 fill-bg-primary-solid in-placement-left:-rotate-90 in-placement-right:rotate-90 in-placement-top:rotate-0 in-placement-bottom:rotate-180",children:$.jsx("path",{d:"M0,0 L35.858,35.858 Q50,50 64.142,35.858 L100,0 Z"})})})]})})]})},j=e=>{if(e.asChild){const i=a.useRef(null),{focusableProps:s}=L({isDisabled:e.isDisabled},i);return a.cloneElement(e.children,E(s,e.children.props,{ref:i}))}const{asChild:o,className:t,...n}=e;return $.jsx(H,{...n,className:i=>R("h-max w-max outline-hidden",typeof t=="function"?t(i):t),children:e.children})};try{S.displayName="Tooltip",S.__docgenInfo={description:"",displayName:"Tooltip",props:{title:{defaultValue:null,description:"The title of the tooltip.",name:"title",required:!0,type:{name:"ReactNode"}},description:{defaultValue:null,description:"The description of the tooltip.",name:"description",required:!1,type:{name:"ReactNode"}},arrow:{defaultValue:{value:"false"},description:"Whether to show the arrow on the tooltip.",name:"arrow",required:!1,type:{name:"boolean | undefined"}},delay:{defaultValue:{value:"300"},description:"Delay in milliseconds before the tooltip is shown.",name:"delay",required:!1,type:{name:"number | undefined"}}}}}catch{}try{j.displayName="TooltipTrigger",j.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{asChild:{defaultValue:null,description:`If true, the tooltip trigger props will be passed down to the child element
instead of wrapping the child element in a button.`,name:"asChild",required:!1,type:{name:"true | undefined"}}}}}catch{}export{S as T,j as a};
